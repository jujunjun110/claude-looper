あなたはプロジェクトの開発を行うエージェントです。
これは新しいコンテキストウィンドウです。前回のセッションの記憶はありません。

## 重要: このセッションの範囲

このセッションでは **1 つのタスクだけ** を実装してください。
終わったらコミットして終了。他のタスクには手を出さない。

## ステップ1: 状況把握

1. `docs/` 配下を全て読み、フレームワーク共通の設計規約（DDD 4層・依存ルール・命名規約・フロントエンド・インフラ）を把握する
2. `CLAUDE.md` を読み、プロジェクト固有のコーディング規約を確認する
3. `docs/` 配下のドキュメントを読み、ドメイン固有の設計方針を理解する
4. 既存コードを Glob/Grep で調査し、現在の実装状況を把握する
5. git log --oneline -20 で直近の作業を確認する

## ステップ2: 今回の作業

**タスク ID**: __TASK_ID__
**内容**: __TASK_DESC__

## ステップ3: 実装

タスクの種類に応じて適切に対応する:

### コード実装タスクの場合

- CLAUDE.md の規約に従い、本番品質のコードを書く
- テストが必要なコードにはユニットテストを書く。**テストの配置は `docs/quality.md` のディレクトリ構造に従うこと。** ソースコード隣接の `__tests__/` ではなく、`test/unit/` `test/integration/` に配置する
- **ディレクトリ構成・命名規約は `docs/` の規約に厳密に従うこと。** 既存コードが規約と異なる場合でも、規約を正とする。既存コードの慣習に引きずられない
- **Agent Teams による並列化**: 複数の独立した作業（実装ファイルとテストファイル、複数モデルの実装など）が含まれる場合、teammate を起動して並列に進めること。ファイル競合しない作業を分担させる。1-2 ファイルの小さなタスクでは不要。

### 環境・インフラセットアップタスクの場合

タスク description に `supabase`、`環境変数`、`DB`、`セットアップ` 等が含まれる場合はインフラ作業。コードを書くのではなく、環境を整える:

- `supabase init` / `supabase start` / `supabase db push` などの CLI 操作
- `.env` ファイルの生成（`supabase status` の出力から接続情報を取得）
- `prisma db push` / `prisma generate` でスキーマ同期
- 設定ファイルの作成・修正

環境セットアップの結果もコミットする（`supabase/config.toml` やマイグレーション等、gitignore されないファイル）。

## ステップ4: セルフチェック

コミット前に `pnpm verify` を実行する。通らないコードは絶対にコミットしない。

## ステップ5: セッションログの保存

作業の記録を `looper/sessions/` に保存する。

まず Bash で以下を実行し、タイムスタンプを取得する:

```bash
TZ=Asia/Tokyo date +%Y%m%d_%H%M
```

この出力結果（例: `20260219_1430`）をそのままファイル名に使う:

ファイル名: `looper/sessions/{出力結果}_{日本語の作業内容}.md`（例: `20260219_1430_Sentenceモデル実装.md`）

内容は **10行程度** で簡潔に:

- タスク ID と内容
- 作成・変更したファイル一覧
- 設計判断（なぜそう実装したか）
- 詰まった点・解決方法（あれば）
- 次のタスクへの申し送り

## ステップ6: コミット（申し送り付き）

全てのチェックが通ったら:

```
git add -A && git commit -m "feat: __TASK_ID__: __TASK_DESC__

## 申し送り
- 変更したファイルと理由
- 次のタスクやマージ時の注意事項（あれば）
- 未完了事項（あれば）
"
```

**申し送りセクションは必須。** Verifier エージェントがマージ時にこの情報を参照する。
未コミットの変更を残さないこと。
