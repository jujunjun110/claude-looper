# auth-domain-models: User Rich Domain Model 実装

## タスク
- ID: auth-domain-models
- User interface → Rich Domain Model (class) に変換、ファクトリメソッド + バリデーション実装

## 作成・変更ファイル
- `src/backend/contexts/auth/domain/models/user.model.ts` — interface → class に変換。create / fromSupabaseUser / createDummy 実装
- `test/unit/contexts/auth/domain/models/user.model.test.ts` — 18 テストケース追加（create 9件、fromSupabaseUser 7件、createDummy 2件）

## 設計判断
- ドメイン層を `@supabase/supabase-js` に依存させないため、`SupabaseUserLike` インターフェースを独自定義（DDD 依存ルール遵守）
- `fromSupabaseUser` は `full_name → name → email` の順でフォールバックし、Google OAuth 等のメタデータ差異を吸収
- `createUserId` は既存実装が throw する設計のため、`create` 内でも throw が伝播する（email/name は Result パターン）
- 既存の AuthGateway / UserRepository は `import type { User }` のため、class 化しても互換性あり

## 次のタスクへの申し送り
- UserId / Email 値オブジェクトは既存実装のまま変更なし（バリデーション済み）
- infrastructure 層で `fromSupabaseUser` を使って Supabase Auth → ドメインモデル変換を行う想定
