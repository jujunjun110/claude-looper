# fix-dev-mode-dummy-user: 開発環境ダミーユーザー修正

## タスク ID
fix-dev-mode-dummy-user

## 内容
NODE_ENV=development で / アクセス時に Missing environment variable: NEXT_PUBLIC_SUPABASE_URL エラーが発生する問題を修正。

## 変更ファイル
- `src/backend/contexts/auth/presentation/loaders/current-user.loader.ts`: NODE_ENV=development 時に User.createDummy() を返すガード追加（import を type import から通常 import に変更）
- `src/backend/contexts/auth/presentation/actions/sign-in.action.ts`: NODE_ENV=development 時に / へリダイレクトするガード追加
- `src/backend/contexts/auth/presentation/actions/sign-out.action.ts`: NODE_ENV=development 時に /login へリダイレクトするガード追加

## 設計判断
- presentation 層の各エントリポイント先頭で早期リターンする方式を採用。composition 層や infrastructure 層には手を入れず、影響範囲を最小に留めた
- User.createDummy() は既存のドメインモデルメソッドをそのまま活用
- sign-out は開発環境でも /login へリダイレクトし、通常フローと同じ UX を維持

## 次のタスクへの申し送り
- 本番環境では Supabase 環境変数が必須。デプロイ時に NEXT_PUBLIC_SUPABASE_URL, NEXT_PUBLIC_SUPABASE_ANON_KEY の設定を確認すること
