# auth-deps-and-test-setup

## 内容
apps/content-reviewer に Supabase 認証ライブラリと vitest テスト基盤を追加。

## 作成・変更ファイル
- `apps/content-reviewer/package.json` — @supabase/supabase-js, @supabase/ssr を dependencies に、vitest を devDependencies に追加。test script 追加
- `apps/content-reviewer/vitest.config.mts` — 新規作成。src/ 配下のテスト対象設定、@/ パスエイリアス
- `package.json`（ルート） — test script（pnpm -r run test）追加、verify に test を追加
- `pnpm-lock.yaml` — 依存解決

## 設計判断
- vitest.config は `.mts` 拡張子を使用。vitest 4.x + vite 7.x が ESM 専用のため、CJS プロジェクトでは `.mts` で ESM として読み込ませる必要があった
- `--passWithNoTests` フラグを付与。テストファイル未作成の段階でも verify が通るようにするため
- verify パイプラインに test を末尾に追加（lint → typecheck → prisma:generate → build → test）

## 次のタスクへの申し送り
- テストファイルは未作成。ドメインモデル等の実装時に `src/**/*.test.ts` パターンでテストを配置すればそのまま実行される
