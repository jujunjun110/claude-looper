# knowledge UI コンポーネント実装

## タスク ID
knowledge-ui

## 内容
shadcn/ui コンポーネント追加確認（Textarea, ScrollArea 等）。knowledge 関連の UI コンポーネント 3種を作成し、page.tsx を更新。E2E テストも追加。

## 作成・変更したファイル一覧

- `apps/content-reviewer/src/components/knowledge/knowledge-article-table.tsx`（新規）
  - 'use client'、一覧テーブル: タイトル・ソース種別・作成日・操作ボタン（編集/削除）
- `apps/content-reviewer/src/components/knowledge/knowledge-article-form-dialog.tsx`（新規）
  - 'use client'、新規登録/編集兼用 Dialog フォーム: title, content, sourceUrl 入力 → Server Action 呼び出し
- `apps/content-reviewer/src/components/knowledge/delete-knowledge-article-button.tsx`（新規）
  - 'use client'、削除確認付きボタン → deleteKnowledgeArticleAction 呼び出し
- `apps/content-reviewer/src/app/(app)/knowledge/page.tsx`（更新）
  - loadKnowledgeArticles() で一覧取得 → KnowledgeArticleTable に props 渡し + 新規登録ボタン配置
- `apps/content-reviewer/e2e/knowledge.spec.ts`（新規）
  - /knowledge ページの E2E テスト（一覧表示・新規登録→一覧反映・編集・削除の基本シナリオ）

## 設計判断

- expression-rule の rules コンポーネント群（expression-rule-table, expression-rule-form-dialog, delete-expression-rule-button）と全く同じパターンで実装
- Textarea は既に `components/ui/textarea.tsx` に存在していたため追加不要
- FormDialog の action 呼び出しは FormData を明示的に生成して Server Action に渡す形（create-knowledge-article.action.ts の interface に合わせて）
- 編集時は sourceType/sourceUrl の変更は不可（update action の仕様に合わせて id, title, content のみ送信）

## 詰まった点・解決方法

- biome フォーマッター: DialogTitle 内の三項演算子が複数行に渡ると lint エラー → 1行にまとめて修正

## 検証結果

- lint / typecheck / build / unit テスト (215 tests): 全通過
- e2e: DATABASE_URL 未設定による既存の失敗（今回の変更と無関係。前回セッションから同様）

## 次のタスクへの申し送り

- /knowledge ページの UI が完成。DB 環境があれば E2E テストも実行可能
- ScrollArea は今回不要だったため追加していない
